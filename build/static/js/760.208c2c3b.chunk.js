"use strict";(self.webpackChunksite_manager=self.webpackChunksite_manager||[]).push([[760],{7760:function(e,n,a){a.r(n);var t=a(74165),r=a(15861),s=a(29439),c=a(72791),i=a(11087),l=a(39716),o=a(13748),h=a(80184);n.default=function(e){var n=(0,c.useState)([]),a=(0,s.Z)(n,2),u=a[0],m=a[1],d=(0,c.useRef)(!1);return(0,c.useEffect)((function(){if(!1===d.current){var e=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=[],e.next=4,fetch("".concat("http://devops-backend.wwtd.tech","?")+new URLSearchParams({enviornment:window.location.hostname,action:"get_sites",orderby:"domain",orderbydirec:"ASC"})).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){if(e.theme){var a=JSON.parse(e.theme);n.hasOwnProperty(a.name)?n[a.name][1]++:n[a.name]=[a.name,1]}})),a.themes=n,m(a)}),(function(e){console.log(e),l.Z.push((0,h.jsx)(o.Z,{showIcon:!0,type:"error",children:e.message}),{duration:3e3})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),d.current=!0}})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"page-title",children:(0,h.jsx)("h1",{children:"Theme List"})}),u&&u.themes&&(0,h.jsxs)("div",{className:"page-table",children:[(0,h.jsxs)("div",{className:"page-table-head",children:[(0,h.jsx)("div",{className:"page-table-column page-table-label",children:"Theme Name"}),(0,h.jsx)("div",{className:"page-table-column page-table-label",children:"Count"})]}),Object.entries(u.themes).map((function(e,n){return(0,h.jsx)("div",{className:"page-table-row-outter",children:(0,h.jsxs)("div",{className:"page-table-row-inner",children:[(0,h.jsx)("div",{className:"page-table-column page-table-label",children:(0,h.jsx)(i.rU,{to:"/site/theme/".concat(encodeURIComponent(e[1][0])),children:e[1][0]})}),(0,h.jsx)("div",{className:"page-table-column",children:e[1][1]})]})},n)}))]})]})}}}]);
//# sourceMappingURL=760.208c2c3b.chunk.js.map