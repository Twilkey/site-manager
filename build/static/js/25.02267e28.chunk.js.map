{"version":3,"file":"static/js/25.02267e28.chunk.js","mappings":"+NAwEA,UApEc,SAACA,GACX,IAAMC,GAAcC,EAAAA,EAAAA,MACpB,GAAkCC,EAAAA,EAAAA,UAAS,IAAG,eAAvCC,EAAS,KAAEC,EAAY,KAC9B,GAAwBF,EAAAA,EAAAA,UAAS,IAAG,eAA7BG,EAAI,KAAEC,EAAO,KACdC,GAAmBC,EAAAA,EAAAA,SAAO,GA+BhC,OA7BAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAQC,mBAAmBX,EAAYY,MACvCC,EAAO,yCAAG,mGACNC,MAAM,UAAGC,kCAAiC,KAAM,IAAIC,gBAAgB,CACtEC,YAAaC,OAAOC,SAASC,SAC7BC,OAAQ,aACRC,MAAO,QACPC,MAAO,wCACPC,OAAO,QAAD,OAAUd,MAEnBe,MAAK,SAACC,GACH,OAAOA,EAASC,MACpB,IACCF,MAAK,SAACG,GACHtB,EAAQsB,EACZ,IACA,SAACC,GACGC,QAAQC,IAAIF,GACZG,EAAAA,EAAAA,MAAa,SAAC,IAAO,CAACC,UAAQ,EAACC,KAAK,QAAO,SAAEL,EAAMM,UAAoB,CAAEC,SAAU,KACvF,IAAG,KAAD,sCACL,kBAlBY,oCAoBmB,IAA7B7B,EAAiB8B,UAChBjC,EAAaM,GACbG,IACAN,EAAiB8B,SAAU,EAEnC,GAAG,CAACrC,EAAYY,KAAMT,KAGlB,iCACI,gBAAKmC,UAAU,aAAY,UACvB,wBAAKnC,MAERE,IACG,iBAAKiC,UAAU,iCAAgC,WAC3C,iBAAKA,UAAU,kBAAiB,WAC5B,gBAAKA,UAAU,qCAAoC,SAAC,UACpD,gBAAKA,UAAU,qCAAoC,SAAC,aACpD,gBAAKA,UAAU,qCAAoC,SAAC,cACpD,gBAAKA,UAAU,qCAAoC,SAAC,eAEvDjC,EAAKkC,KAAI,SAACC,EAAMC,GACb,IAAIC,EAAYC,KAAKC,MAAMJ,EAAKK,OAEhC,OACI,gBAAKP,UAAU,wBAAuB,UAClC,iBAAKA,UAAU,uBAAsB,WACjC,gBAAKA,UAAU,qCAAoC,UAAC,SAAC,KAAI,CAACQ,GAAE,gBAAWN,EAAKO,IAAK,SAAEP,EAAKQ,WACxF,gBAAKV,UAAU,oBAAmB,SAAEI,EAAUO,WAC9C,gBAAKX,UAAU,oBAAmB,UAAC,cAAGY,KAAMV,EAAKW,IAAKC,OAAO,SAASC,IAAI,aAAY,SAAC,aACvF,gBAAKf,UAAU,oBAAmB,UAAC,cAAGY,KAAMV,EAAKc,SAAUF,OAAO,SAASC,IAAI,aAAY,SAAC,gBALxDZ,EASpD,SAKpB,C","sources":["pages/Theme.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Message, toaster } from 'rsuite';\r\n\r\nconst Theme = (props) => {\r\n    const routeParams = useParams();\r\n    const [themename, setThemeName] = useState('');\r\n    const [data, setData] = useState([]);\r\n    const fetchingComplete = useRef(false);\r\n\r\n    useEffect(() => {\r\n        const title = decodeURIComponent(routeParams.name);\r\n        const getData = async () => {\r\n            await fetch(`${process.env.REACT_APP_BACKEND_URL}?` + new URLSearchParams({\r\n                enviornment: window.location.hostname,\r\n                action: 'get_custom',\r\n                table: 'sites',\r\n                where: 'JSON_EXTRACT(theme, \"$.name\") = :name',\r\n                params: `name:${title}`\r\n            }))\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((result) => {\r\n                setData(result);\r\n            },\r\n            (error) => {\r\n                console.log(error)\r\n                toaster.push(<Message showIcon type=\"error\">{error.message}</Message>, { duration: 3000 });\r\n            });\r\n        }\r\n\r\n        if(fetchingComplete.current === false){\r\n            setThemeName(title);\r\n            getData();\r\n            fetchingComplete.current = true;\r\n        }\r\n    }, [routeParams.name, themename]);\r\n\r\n    return (\r\n        <>\r\n            <div className='page-title'>\r\n                <h1>{themename}</h1>\r\n            </div>\r\n            {data && \r\n                <div className='page-table page-table-sitelist'>\r\n                    <div className='page-table-head'>\r\n                        <div className='page-table-column page-table-label'>Site</div>\r\n                        <div className='page-table-column page-table-label'>Version</div>\r\n                        <div className='page-table-column page-table-label'>Frontend</div>\r\n                        <div className='page-table-column page-table-label'>Backend</div>\r\n                    </div>\r\n                    {data.map((item, index) => {\r\n                        let themeData = JSON.parse(item.theme);\r\n\r\n                        return (\r\n                            <div className='page-table-row-outter' key={index}>\r\n                                <div className='page-table-row-inner'>\r\n                                    <div className='page-table-column page-table-label'><Link to={`/site/${item.id}`}>{item.label}</Link></div>\r\n                                    <div className='page-table-column'>{themeData.version}</div>\r\n                                    <div className='page-table-column'><a href={item.url} target=\"_blank\" rel=\"noreferrer\">Visit</a></div>\r\n                                    <div className='page-table-column'><a href={item.adminurl} target=\"_blank\" rel=\"noreferrer\">Visit</a></div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Theme;"],"names":["props","routeParams","useParams","useState","themename","setThemeName","data","setData","fetchingComplete","useRef","useEffect","title","decodeURIComponent","name","getData","fetch","process","URLSearchParams","enviornment","window","location","hostname","action","table","where","params","then","response","json","result","error","console","log","toaster","showIcon","type","message","duration","current","className","map","item","index","themeData","JSON","parse","theme","to","id","label","version","href","url","target","rel","adminurl"],"sourceRoot":""}