"use strict";(self.webpackChunksite_manager=self.webpackChunksite_manager||[]).push([[25],{70025:function(e,a,n){n.r(a);var t=n(74165),r=n(15861),s=n(29439),l=n(72791),c=n(57689),i=n(11087),o=n(39716),d=n(13748),u=n(80184);a.default=function(e){var a=(0,c.UO)(),n=(0,l.useState)(""),m=(0,s.Z)(n,2),h=m[0],p=m[1],b=(0,l.useState)([]),g=(0,s.Z)(b,2),f=g[0],v=g[1],x=(0,l.useRef)(!1);return(0,l.useEffect)((function(){var e=decodeURIComponent(a.name),n=function(){var a=(0,r.Z)((0,t.Z)().mark((function a(){return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat("http://devops-backend.wwtd.tech","?")+new URLSearchParams({enviornment:window.location.hostname,action:"get_custom",table:"sites",where:'JSON_EXTRACT(theme, "$.name") = :name',params:"name:".concat(e)})).then((function(e){return e.json()})).then((function(e){v(e)}),(function(e){console.log(e),o.Z.push((0,u.jsx)(d.Z,{showIcon:!0,type:"error",children:e.message}),{duration:3e3})}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();!1===x.current&&(p(e),n(),x.current=!0)}),[a.name,h]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"page-title",children:(0,u.jsx)("h1",{children:h})}),f&&(0,u.jsxs)("div",{className:"page-table page-table-sitelist",children:[(0,u.jsxs)("div",{className:"page-table-head",children:[(0,u.jsx)("div",{className:"page-table-column page-table-label",children:"Site"}),(0,u.jsx)("div",{className:"page-table-column page-table-label",children:"Version"}),(0,u.jsx)("div",{className:"page-table-column page-table-label",children:"Frontend"}),(0,u.jsx)("div",{className:"page-table-column page-table-label",children:"Backend"})]}),f.map((function(e,a){var n=JSON.parse(e.theme);return(0,u.jsx)("div",{className:"page-table-row-outter",children:(0,u.jsxs)("div",{className:"page-table-row-inner",children:[(0,u.jsx)("div",{className:"page-table-column page-table-label",children:(0,u.jsx)(i.rU,{to:"/site/".concat(e.id),children:e.label})}),(0,u.jsx)("div",{className:"page-table-column",children:n.version}),(0,u.jsx)("div",{className:"page-table-column",children:(0,u.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:"Visit"})}),(0,u.jsx)("div",{className:"page-table-column",children:(0,u.jsx)("a",{href:e.adminurl,target:"_blank",rel:"noreferrer",children:"Visit"})})]})},a)}))]})]})}}}]);
//# sourceMappingURL=25.02267e28.chunk.js.map